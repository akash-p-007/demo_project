/ Form for creating New Group
.container-fluid
  %legend
    %h1 Create a new Group
  .row
    .form-group.col-xs-5.col-lg-4.col-md-4
    .form-group.col-xs-5.col-lg-4.col-md-4
      = form_for(@group) do |f|
        / To display any errors which may occur while group creation like name should be present
        - if @group.errors.any?
          #error_explanation
            %h2
              = pluralize(@group.errors.count, "error")
              prohibited this group from being saved:
            %ul
              - @group.errors.full_messages.each do |message|
                %li= message
  / Form Fields for getting information about the new group
  .row
    .form-group.col-xs-4.col-lg-4.col-md-4
    .form-group.col-xs-4.col-lg-4.col-md-4
      .row
        .col-md-4.col-xs-4
          = f.label :Name
        .col-md-4.col-xs-4
          = f.text_field :name
      %br/
  .row
    .form-group.col-xs-4.col-lg-4.col-md-4
    .form-group.col-xs-4.col-lg-4.col-md-4
      .row
        .col-md-4.col-xs-4
          = f.label :Description
        .col-md-4.col-xs-4
          = f.text_area :desc
      %br/
  .row
    .form-group.col-xs-4.col-lg-4.col-md-4
    .form-group.col-xs-4.col-lg-4.col-md-4
      .row
        .col-md-4.col-xs-4
          = f.label :"Group Type"
        .col-md-4.col-xs-4
          Public: #{f.radio_button :is_public, true, label: "Public", checked: true , class: "form-check"}
          Private: #{f.radio_button :is_public, false, label: "Private",class: "form-check"}
          \#{f.hidden_field :created_by, value: "#{current_user.name}"}
  %h3 Select Group Members
  / Nested model form for selecting users after creation of group
  .row
    .form-group.col-xs-5.col-lg-4.col-md-4
    .form-group.col-xs-5.col-lg-4.col-md-4
      = f.fields_for :memberships, @memberships do |member|
        - if member.object.user.name != current_user.name
          .row
            .col-md-4.col-xs-4
              = "#{member.object.user.name}"
            .col-md-2.col-xs-4
              = member.check_box :user_id, {checked: false}, member.object.user.id, nil
          %br/
  = f.submit "Create group",class: "btn btn-success"
